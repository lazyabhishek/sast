<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:db="http://www.mulesoft.org/schema/mule/db" xmlns:vm="http://www.mulesoft.org/schema/mule/vm"
	xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/vm http://www.mulesoft.org/schema/mule/vm/current/mule-vm.xsd
http://www.mulesoft.org/schema/mule/db http://www.mulesoft.org/schema/mule/db/current/mule-db.xsd">
	<db:config doc:name="Oracle Configuration" name="Oracle_Configuration">
		<db:oracle-connection host="localhost" user="test"
			password="test" instance="test" transactionIsolation="READ_COMMITTED"
			port="1521">

			<db:pooling-profile maxPoolSize="2" minPoolSize="2"
				preparedStatementCacheSize="2" maxWait="2" acquireIncrement="2" />
		</db:oracle-connection>
	</db:config>
	<flow name="dbFlow">
		<db:insert doc:name="Insert" config-ref="Oracle_Configuration"
			queryTimeout="10" autoGenerateKeys="true"
			autoGeneratedKeysColumnIndexes="1" autoGeneratedKeysColumnNames="1"
			target="test" transactionalAction="NOT_SUPPORTED" >
			<db:sql>
				SELECT * FROM employees WHERE last_name = :last_name
			</db:sql>
			<db:input-parameters ><![CDATA[#[{last_name : vars.lastName}]]]></db:input-parameters>
		</db:insert>
	</flow>
</mule>
